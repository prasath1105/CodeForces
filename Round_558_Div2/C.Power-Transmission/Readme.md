### C.Power-Transmission

我们将所有的平行线归成一组，查看总共有多少组。任何一个组里的一条线，都可以和其他组的任何线相交。

任何一组平行线，都共享同一个斜率。斜率的计算```k=Δy/Δx```，即使用double类型来存储，也可能会有精度的问题。考虑到Δy和Δx都是整数，我们就用它们的既约分数（化简分数）就能唯一地表示一个斜率。也就是```b=Δy/gcd(Δy,Δx),a=Δx/gcd(Δy,Δx)```，这样```b/a```就表达了一个唯一的斜率。

那么在同一组斜率里面，如何区分不同的直线呢？那就是靠截距了。截距就是当x=0时与y轴的交点位置```c = y1-b/a*x1```.但是这个c仍然需要用到除法，会有精度的问题。我们可以转而计算```c*a = y1*a-b*x1```，这是因为对于同一组平行线而言，a和b都是相同的，所以```c*a```等同于截距可以用作区分平行线之间的判据。

综上，我们根据```b/a```来给平行线分组，再用```c*a```区分同一组平行线里集合不同位移的直线，就可以计算两两相交的直线数目了。
