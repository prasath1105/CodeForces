### F.Microtransactions

直接找到最优方案确实不太好想，可以转而利用二分法。假设总共的物件个数是total，显然最多2*total天就可以买齐，这就是上限。于是问题转化为：对于给定L天，我们是否可以将所需要的物件都买齐？

直觉告诉我们，任何物品，如果在第L天之前有sale，我们只需要在最后一次的sale中去购买就行了（理论上我们此时可能会有最多的钱），这是一个比较好理解的贪心策略。具体的模拟过程，我们用倒序的方法，这是一个巧妙的策略。

我们考虑在第L天结束，不考虑支出，总收入一定是L。所以我们就以L为手头的现金作为开始。从后往前倒序遍历每一天，如果当天有sale并且该物件我们仍有空缺，就倾尽所有去够入。特别注意，我们每日手头的现金不能超过理论的上限，即第i天最多有i元，也就是说后期积攒的钱不能带到前期去用。

从第L天倒序遍历完直至第1天，这个过程中我们只买on sale的物件，因此剩下的物件，都必须以两元的单价购买。这个时候，我们手头能够花的钱是：```第L天的总收入L -之前所有购买有sale的物品的钱spent```，注意不是遍历完之后的手头的现金，因为这些高价采购的物品我们是可以放在第L天去买的。

如果L-spent是依然所缺物件的两倍以上，就说明我们可以在L天内买齐所有的东西。
